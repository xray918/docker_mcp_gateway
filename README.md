# Docker MCP Gateway

ç»Ÿä¸€ç®¡ç†å¤šä¸ª Docker MCP å®¹å™¨çš„ç½‘å…³æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ³ **Docker å®¹å™¨ç®¡ç†**: è§£æ `docker run` å‘½ä»¤ï¼Œè‡ªåŠ¨åˆ›å»ºå’Œç®¡ç†å®¹å™¨
- ğŸ”€ **æ™ºèƒ½è·¯ç”±**: `/mcp/{server_name}` è·¯å¾„è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”å®¹å™¨
- ğŸ“Š **å®æ—¶ç›‘æ§**: å®¹å™¨çŠ¶æ€ã€èµ„æºä½¿ç”¨ã€è®¿é—®ç»Ÿè®¡
- ğŸ–¥ï¸ **Web Dashboard**: å¯è§†åŒ–ç®¡ç†ç•Œé¢
- ğŸ“ **æ—¥å¿—æŸ¥çœ‹**: å®æ—¶æŸ¥çœ‹å®¹å™¨æ—¥å¿—
- â™»ï¸ **å¥åº·æ£€æŸ¥**: è‡ªåŠ¨ç›‘æ§å®¹å™¨å¥åº·çŠ¶æ€

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
cd /Users/xiexinfa/demo/taoke_docker
uv sync
```

### å¯åŠ¨

```bash
uv run docker-mcp-gateway
```

æˆ–è€…æŒ‡å®šç«¯å£ï¼š

```bash
PORT=18082 uv run docker-mcp-gateway
```

### è®¿é—®

- **Dashboard**: http://localhost:18082/
- **API æ–‡æ¡£**: http://localhost:18082/docs
- **MCP ä»£ç†**: http://localhost:18082/mcp/{container_name}

## ä½¿ç”¨æ–¹æ³•

### æ·»åŠ å®¹å™¨

1. æ‰“å¼€ Dashboard (http://localhost:8080/)
2. ç‚¹å‡»"æ·»åŠ å®¹å™¨"æŒ‰é’®
3. ç²˜è´´ `docker run` å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š

```bash
docker run -dit \
--name taoke-mcp  \
--restart always \
-p 8081:8081 \
-e ENV_URL=https://config.sinataoke.cn/api/mcp/secret \
-e ENV_SECRET=url:mcp.sinataoke.cn \
-e ENV_OVERRIDE=false \
liuliang520500/taoke-mcp
```

4. ç‚¹å‡»"åˆ›å»ºå®¹å™¨"

### è®¿é—® MCP æœåŠ¡

åˆ›å»ºæˆåŠŸåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—® MCP æœåŠ¡ï¼š

```
http://localhost:8080/mcp/taoke-mcp
```

## API æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| GET | /api/status | è·å–ç½‘å…³çŠ¶æ€ |
| GET | /api/containers | åˆ—å‡ºæ‰€æœ‰å®¹å™¨ |
| POST | /api/containers | åˆ›å»ºå®¹å™¨ |
| DELETE | /api/containers/{name} | åˆ é™¤å®¹å™¨ |
| POST | /api/containers/{name}/start | å¯åŠ¨å®¹å™¨ |
| POST | /api/containers/{name}/stop | åœæ­¢å®¹å™¨ |
| GET | /api/containers/{name}/logs | è·å–å®¹å™¨æ—¥å¿— |
| ANY | /mcp/{name}/* | MCP ä»£ç† |

## é…ç½®

### ç¯å¢ƒå˜é‡

| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|--------|------|
| HOST | 0.0.0.0 | ç»‘å®šåœ°å€ |
| PORT | 18082 | ç›‘å¬ç«¯å£ |
| CONFIG_DIR | ./config | é…ç½®æ–‡ä»¶ç›®å½• |
| DATA_DIR | ./data | æ•°æ®ç›®å½• |
| LOG_LEVEL | INFO | æ—¥å¿—çº§åˆ« |

### å®¹å™¨é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶ä½äº `config/containers.yaml`ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘æˆ–é€šè¿‡ Web ç•Œé¢ç®¡ç†ã€‚

## æ¶æ„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Docker MCP Gateway          â”‚
                    â”‚      http://0.0.0.0:8080         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                        â”‚                        â”‚
    /mcp/taoke               /mcp/other               /mcp/xxx
          â”‚                        â”‚                        â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
   â”‚  taoke-mcp  â”‚          â”‚  other-mcp  â”‚          â”‚   xxx-mcp   â”‚
   â”‚  container  â”‚          â”‚  container  â”‚          â”‚  container  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## License

MIT
